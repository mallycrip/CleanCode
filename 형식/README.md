# 형식 맞추기
## 형식을 맞추는 목적
__`코드 형식`은 중요하다. 너무나도 중요하여, 맹목적으로 다음글을 따르면 안 된다.__<br/>
`코드 형식`은 의사소통의 일환이다. 다음 `코드 형식`은 소통을 장려하는 코드 형식이다.

## 적절한 행 길이를 유지하라
큰 프로젝트의 `소스 코드`를 보면 대부분 500줄을 넘지 않고 200줄 정도인 파일로 이루어져 있다.<br/>
이는 200줄 정도의 파일로도 커다란 시스템을 구축할 수 있다는 사실이다.<br/>
<br/>
### 신문 기사처럼 작성하라
독자는 신문 기사를 위에서 아래로 읽는다. 최상단에는 기사를 몇 마디로 요약하는 `표제`가 나온다. 독자는 이 표제를 통하여 기사를 읽을지 말지 결정한다.<br/>
`소스파일`또한 마찬가지 이다. __이름은 간단하면서도 설명이 가능하게 짓는다.__ <br/>
이름만 보고서도 올바른 `모듈`을 살펴보고 있는지 아닌지를 판단할 정도로 신경써서 짓는다.<br/>
`소스 파일 첫 부분`은 `고차원 개념`과 `알고리즘`을 설명한다.<br/>
아래로 내려갈 수록 `의도`를 세세하게 묘사하고, 마지막에는 가장 `저차원 함수`와 `세부 내역`을 작성한다.<br/>
<br/>
신문은 다양한 기사로 이루어진다. 대다수 기사가 아주 짧다. 신문이 읽을 만한 이유는 여기에 있다. __신문이 날짜, 내용등을 뒤섞은 한 기사만 싣는다면 아무도 읽지 않을 것이다.__<br/>
<br/>
### 개념은 빈 행으로 구분하라
대부분의 `코드`는 왼쪽에서 오른쪽으로, 위에서 아래로 읽는다. 각 행은 수식이나 절을 나타내고 일련의 행 묶음은 완결된 생각 하나를 표현한다.<br/>
생각 사이에는 빈 행을 넣어 분리해야 마땅하다.
```python
class AppConfig(Object):
    def __init__(self, app):
        self.address = "127.0.0.1"
        self.port = 80
    def set_address(self, address):
        self.address = address
    def set_port(self, port):
        self.port = port
```
위 코드는 행을 모두 빼버린 코드이다. `코드 가독성`이 현저하게 떨어진다.<br/>
<br/>

### 세로 밀집도
`줄바꿈`이 `개념`을 분리한다면 `세로 밀집도`는 `연관성`을 의미한다. 즉 서로 밀접된 코드 행은 세로로 가까이 놓여야 한다는 뜻이다.<br/>
<br/>

### 수직 거리
__서로 밀접한 개념은 세로로 가까이 두어야한다.__ 물론 두 개념이 서로 다른 파일에 속한다면 규칙이 통하지 않는다.<br/>
하지만 마땅한 근거가 없다면 서로 밀접한 개념은 한 파일에 속해야 마땅하다. 이게 바로 `protected 변수`를 피해야하는 이유중 하나이다.<br/>
같은 파일에 속할 정도로 밀접한 두 개념은 세로 거리로 `연관성`을 표현한다.<br/>
`연관성`이 깊은 두 개념이 멀리 떨어져 있으면 `코드`를 읽는 사람이 `소스 파일`과 `클래스`를 여기저기 뒤지게 된다.<br/>
<br/>

### 변수 선언 t
__변수는 사용하는 위치에 최대한 가까이 선언한다.__<br/>
우리는 클린코드를 위해 `함수`를 작게 만드므로, `지역 변수`는 `함수` 맨 처음에 선언한다.<br/>
<br/>
### 루프 제어
`루프`를 제어하는 `변수`는 흔히 `루프 문` 내부에 선언한다.<br/>
드물게는 다소 긴 `함수`에서 `블록 상단`이나 `루프` 직전에 `변수`를 선언하는 경우도 있다.<br/>
<br/>

### 인스턴스 변수
__인스턴스 변수는 클래스 맨 처음에 선언하며 변수 간에 세로로 거리를 두지 않는다.__<br/>
잘 설계한 `클래스`는 많은 `클래스 메서드`가 `인스턴스 변수`를 사용하기 때문이다.<br/>
`인스턴스 변수`를 선언하는 위치는 아직도 논쟁이 분분하다. C++ 같은경우는 `가위 규칙`을 적용하여 `인스턴스 변수`를 `클래스` 맨 아래에 선언한다.<br/>
<br/>
### 종속 함수
한 `함수`가 다른 `함수`를 호출한 다면 두 `함수`는 세로로 가까이 배치한다.<br/>
또한 가능 하다면 호출하는 `함수`를 호출 당하는 `함수`보다 먼저 배치한다. 그러면 프로그램이 자연스럽게 읽힌다.<br/>
<br/>
### 개념적 유사성
어떤 `코드`는 서로 끌어당긴다. 개념적인 친화도가 높기 때문이다.<br/.
__친화도가 높을 수록 코드를 가까이 배치한다.__<br/>
<br/>

### 세로 순서
일반적으로 `함수 호출 종속성`은 아래 방향으로 유지하므로 호출하는 `함수`를 호출당하는 `함수`보다 가까이 배치한다.<br/>
<br/>

### 가로 형식 
프로그래머는 명백하게 `짧은 행`을 선호한다. 그러므로 `짧은 행`이 바람직하다.<br/>
가로120자 이내로 작성하며, 그 이상은 주의부족이다.<br/>
<br/>

### 가로 공백과 밀집도
`가로도`는 `공백`을 사용해 밀접한 개념과 느슨한 개념을 표현한다.
```python
def meansure_line(line: str):
    line_count += 1
    line_size = line.length()
    total_chars += line_size
    line_width_histogram.add_line(line_size, line_count)
    record_widest_line(line_size)
```
다음 코드를 보면 `할당 연산자`를 강조하려고 앞뒤에 `공백`을 주었다.<br/>
`할당문`은 왼쪽 요소와 오른쪽 요소가 `공백`을 통하여 분명하게 나뉜다.<br/>
반면 `함수` 이름과 이어지는 괄호 사이에는 `공백`을 넣지 않았다. 이는 `함수`와 `인수`가 서로 밀접하다는 것을 표현한다.<br/>
`함수`를 호출하는 코드에서 괄호 안 `인수`는 공백으로 분리하였다. 쉼표를 강조해 `인수`가 별개라는 사실을 나타낸다.<br/><Br/>

수식에서도 공백을 사용할 수 있다.
```python
value = b**2 - 4*a*c
```
다음 코드에서는 계산 `우선순위`에 따라 `공백`을 사용하였다. `우선순위`가 높은 곳에는 `공백`을 주지 않았다.<br/>
<br/>
### 가로 정렬
```python
def handler(input, output, request):
    socket =           Socket()
    input_stream =     input
    output_stream =    output
    request =          request
```
__가로 정렬은 별로 유용하지 못하다.__ `코드`가 엉뚱한 부분을 강조해 진짜 의도가 가려지기 때문이다.<br/>
정렬이 필요할 정도로 목록이 길다면 문제는 목록의 길이이다. 즉 `클래스`나 `함수`를 쪼개야한다.<br/>
<br/>
### 들여쓰기
__들여쓰기한 파일은 구조가 한눈에 들어온다.__<br/>
`들여쓰기`를 무시하고 싶어도 `들여쓰기`를 넣자.<br/>
<br/>

## 팀 규칙
`팀 규칙`이라는 제목은 말 장난이다. 프로그래머라면 각자 선호하는 규칙이 있다.<br/>
하지만 팀에 속한다면 자신이 선호해야 할 규칙은 바로 `팀 규칙`이다. __팀은 한 가지 `규칙`에 합의해야 하며, 그 `규칙`을 따라야한다.__
